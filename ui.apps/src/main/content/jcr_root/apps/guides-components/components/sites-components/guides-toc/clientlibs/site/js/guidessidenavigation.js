class GuidesNavigation{selectedPath;tokens;generatePath(prefix,suffix){return prefix?`${prefix}-${suffix}`:`${suffix}`}handleExpand(chevron,container,currPath,item,tokenIndex=-1,incrementer){let hasRenderedChildren="true"===chevron.getAttribute("children-rendered");let ul;if(!hasRenderedChildren){ul=this.renderLevel(item.children,tokenIndex,currPath,incrementer);container.appendChild(ul);chevron.setAttribute("children-rendered","true")}else{ul=container.querySelector(':scope > ul')}if(chevron.classList.contains('show-children')){ul.classList.remove('show-children');chevron.classList.remove('show-children');chevron.classList.add('hide-children');ul.classList.add('hide-children')}else{chevron.classList.add('show-children');ul.classList.add('show-children');chevron.classList.remove('hide-children');ul.classList.remove('hide-children')}}getListItemContent(listItem,item,currPath,expandChildren,tokenIndex,incrementer){const hasChildren=item.children.length>0;const container=document.createElement('span');const anchor=document.createElement('a');const chevron=document.createElement('span');const isSelected=currPath===this.selectedPath;const isActive=item.active!==false;container.classList.add('toc-list-item');const paddingDepth=1.25*incrementer;container.style.paddingLeft=`${paddingDepth}rem`;chevron.classList.add('item-child-toggle');chevron.setAttribute("children-rendered","false");if(isActive){anchor.setAttribute("href",item.outputPath.endsWith(".html")?item.outputPath:item.outputPath+".html")}else{anchor.style.cursor="default"}anchor.setAttribute("title",item.displayName);anchor.innerText=item.displayName;anchor.setAttribute("aria-current","page");if(isSelected){listItem.classList.add('cmp-nav-item-selected')}let subtree;if(expandChildren){subtree=this.renderLevel(item.children,tokenIndex+1,currPath,incrementer);chevron.setAttribute("children-rendered","true");chevron.classList.remove("hide-children");chevron.classList.add("show-children");subtree.classList.remove("hide-children");subtree.classList.add("show-children");listItem.classList.add("cmp-guidesnavigation__item--active")}else{listItem.classList.add("cmp-guidesnavigation__item--inactive")}if(hasChildren){if(!expandChildren){chevron.classList.add('hide-children')}chevron.addEventListener('click',()=>{this.handleExpand(chevron,listItem,currPath,item,-1,incrementer)});container.appendChild(chevron)}container.appendChild(anchor);listItem.appendChild(container);if(subtree){listItem.appendChild(subtree)}}renderLevel(children,idx,parentPath,incrementer){if(!children){children=[]}const ul=document.createElement("ul");if(!children.length){ul.style.padding="0";ul.style.margin="0"}ul.classList.add("cmp-guidesnavigation__group");for(let i=0;i<children.length;i++){const expandChildren=idx>-1?i.toString()===this.tokens[idx]:false;const item=children[i];const currPath=this.generatePath(parentPath,i);const listItem=document.createElement("li");const isVisible=item.visible!==false;this.getListItemContent(listItem,item,currPath,expandChildren,idx,incrementer+1);listItem.classList.add(`cmp-guidesnavigation__item`);listItem.classList.add(`cmp-guidesnavigation__item-level-${incrementer}`);listItem.classList.add(`cmp-guidesnavigation__item-${item.children.length>0?'has-children':'no-children'}`);if(!isVisible){listItem.style.display='none'}ul.appendChild(listItem)}return ul}onDocumentReady(){const navigationParent=document.querySelector(".guides-navigation");if(navigationParent===null){return}try{const navData=JSON.parse(navigationParent.getAttribute("data-cmp-guides-side-nav-list"));const selectedPath=navigationParent.getAttribute("data-cmp-guides-side-nav-current-index");this.tokens=selectedPath.split('-');this.tokens=this.tokens.slice(1,this.tokens.length);this.selectedPath=this.tokens.join('-');const ul=this.renderLevel(navData.children,0,'',0);navigationParent.appendChild(ul)}catch(e){}}}const guidesNavigation=new GuidesNavigation();document.addEventListener("DOMContentLoaded",guidesNavigation.onDocumentReady.bind(guidesNavigation));
